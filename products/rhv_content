# Must be changed
ORG=ACME
ARCH="x86_64"
LC_ENVS="Testing Production"

# Change to match the current product release or to your desire
CV_PRODUCT="rhv4u2"
CV_DESCRIPTION='"Red Hat Virtualization 4.2"'

# Change to your desire, refer to the 10 steps refarch
CV_TYPE="virt"
CCV_TYPE="infra"

# Change if not RHEL7
releasever="7Server"

# This constructs the CV and CCV names
if [ "$CV_TYPE" != "os" ];
then
    ROLE=$(echo ${CV_PRODUCT} | tr '[:upper:]' '[:lower:]')
else
    ROLE=$(echo ${CV_PRODUCT}-${releasever}-${ARCH} | tr '[:upper:]' '[:lower:]')
fi
CV="cv-${CV_TYPE}-${ROLE}"
CCV="ccv-${CCV_TYPE}-${CV_PRODUCT}"

# Should we publish and promote CV
# yes - publish if changes to CV
# force = always publish
publish_promote=yes

# should activationkeys be created
create_activationkey=no

# should this be a composit content view
# if yes, make sure to change composite_cv with the correct CVs

create_ccv=no
composite_cv='cv-os-rhel-7server cv-app-rhv'


# hammer repository-set list --product "$PRODUCT" --organization ACME
REPOSITORY_SETS=$(mktemp)
cat > $REPOSITORY_SETS <<EOF
"Red Hat Virtualization Manager", "Red Hat Virtualization Manager v4.2 (RHEL 7 Server) (RPMs)", "Red Hat Virtualization Manager 4 Tools RHEL 7 Server RPMs x86_64",
"Red Hat Virtualization Manager", "Red Hat Virtualization Manager 4 Tools (RHEL 7 Server) (RPMs)", "Red Hat Virtualization Manager v4.2 RHEL 7 Server RPMs x86_64", --releasever $releaseve
"Red Hat Virtualization", "Red Hat Virtualization 4 Management Agents for RHEL 7 (RPMs)", "Red Hat Virtualization 4 Management Agents for RHEL 7 RPMs x86_64 7Server", --releasever $releasever
"Red Hat Virtualization Host", "Red Hat Virtualization Host 7 (RPMs)", "Red Hat Virtualization Host 7 RPMs x86_64", --releasever $releasever
"JBoss Enterprise Application Platform", "JBoss Enterprise Application Platform 7.2 (RHEL 7 Server) (RPMs)", "JBoss Enterprise Application Platform 7.2 RHEL 7 Server RPMs x86_64",
EOF
