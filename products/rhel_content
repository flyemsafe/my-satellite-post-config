# Must change per your environment
ORG=ACME
ARCH="x86_64"
LC_ENVS="Testing Production"
SAT_VER="6.4"

CV_PRODUCT="rhel"
CV_DESCRIPTION='"RHEL Server 7 Core Build Content View"'
CV_TYPE="os"

# Change if not RHEL7
releasever="7Server"

# Content view nomenclature, order is important
# This constructs the CV and CCV names
if [ "$CV_TYPE" != "os" ];
then
    ROLE=$(echo ${CV_PRODUCT} | tr '[:upper:]' '[:lower:]')
else
    ROLE=$(echo ${CV_PRODUCT}-${releasever}-${ARCH} | tr '[:upper:]' '[:lower:]')
fi

CV="cv-${CV_TYPE}-${ROLE}"

# Create content view
create_cv=yes

# Should we publish and promote CV
# yes - publish if changes to CV
# force = always publish
publish_promote=yes

# should this be a composit content view
# if yes, make sure to change composite_cv with the correct CVs

create_ccv=no
composite_cv='cv-os-rhel-7server cv-app-rhv'

create_reposets=yes
REPOSITORY_SETS=$(mktemp)
cat > $REPOSITORY_SETS <<EOF
"Red Hat Enterprise Linux 7 Server (Kickstart)",                          "Red Hat Enterprise Linux 7 Server Kickstart x86_64 7Server",                       $releasever
"Red Hat Enterprise Linux 7 Server (RPMs)",                               "Red Hat Enterprise Linux 7 Server RPMs x86_64 7Server",                            $releasever
"Red Hat Enterprise Linux 7 Server - Extras (RPMs)",                      "Red Hat Enterprise Linux 7 Server - Extras RPMs x86_64",                           ""
"Red Hat Satellite Tools ${SAT_VER} (for RHEL 7 Server) (RPMs)",          "Red Hat Satellite Tools ${SAT_VER} for RHEL 7 Server RPMs x86_64",                 ""
"Red Hat Enterprise Linux 7 Server - RH Common (RPMs)",                   "Red Hat Enterprise Linux 7 Server - RH Common RPMs x86_64 7Server",                $releasever
"Red Hat Enterprise Linux 7 Server - Supplementary (RPMs)",               "Red Hat Enterprise Linux 7 Server - Supplementary RPMs x86_64 7Server",            $releasever
"Red Hat Enterprise Linux 7 Server - Optional (RPMs)",                    "Red Hat Enterprise Linux 7 Server - Optional RPMs x86_64 7Server",                 $releasever
EOF

# Add repositories to content views 
add_cv_repos=yes

# should activationkeys be created
create_activationkey=yes
ACTKEY_REPOS="$(mktemp)"
cat > $ACTKEY_REPOS << EOF
rhel-7-server-satellite-tools-${SAT_VER}-rpms
rhel-7-server-rpms
EOF

SUBSCRIPTIONS="$(mktemp)"
cat > $SUBSCRIPTIONS <<EOF
Red Hat Enterprise Linux Server with Smart Management; 100
EOF
